<head>

  <style>
    * {
      margin: 0;
      padding: 0;
    }

    .background-image {
      background-image: url('../assets/background.jpeg');
      background-size: cover;
      background-repeat: no-repeat;
      height: 100vh;
    }
  </style>

</head>

<header style="display: none;">
  <app-navbar></app-navbar>
</header>

<body>
  <div class="background-image">
    <div class="d-flex justify-content-center ">
      <div class="card "
      style="width: 28rem; height: fit-content; margin-top: 50px; padding: 20px; border-radius: 5%;">
        <br>

        <div class="container">
          <img src="../assets/logo.png" class="center">
        </div>

        <br>
        <div [ngStyle]="{
          'color': '#007bff',
          'padding-top': responseLogin == ResponseType.FalhaConexao  ? '45px' : '60px'
        }">

          <div *ngIf="responseLogin == ResponseType.FalhaConexao; else dadosIncorretos">
            <div class="alert alert-danger" role="alert">
              Erro na comunicação com o servidor!
            </div>
          </div>

          <h2>
            <b>Login</b>
          </h2>
        </div>

        <section>
          <form ngNativeValidate
          class="form"
          (ngSubmit)="login()"
          style="margin-bottom: 40px;" >

            <div class="form-field">
              <input class="form-control"
              [defaultValue]="email"
              type="text"
              placeholder="Digite seu e-mail"
              [(ngModel)]="email" name="email"
                required>
            </div>

            <div class="form-field"  style="margin-bottom: 20px;" >
              <input class="form-control"
              type="password"
              placeholder="Sua senha"
              [(ngModel)]="senha" name="senha"
              required>
            </div>

            <div class="botao-wrapper">
              <button class="botao"
              type="submit"
              style="width: 100%;">Entrar</button>
            </div>
          </form>

          <mat-progress-bar mode="indeterminate" *ngIf="loading"></mat-progress-bar>
          <br *ngIf="loading">
        </section>

        <div>
          <a href="esqueceu-senha">Esqueceu a senha?</a>
          <hr class="dashed">

          <a routerLink="/cadastro" class="btn btn-success" style="width: 100%;">
            Criar nova conta
          </a>
          <br>
        </div>
      </div>
    </div>
  </div>


</body>

<ng-template #dadosIncorretos>
  <div *ngIf="responseLogin == ResponseType.DadosIncorretos" class="alert alert-danger" role="alert">
    E-mail ou senha incorretos!
  </div>
</ng-template>
